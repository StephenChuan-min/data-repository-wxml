{"version":3,"file":"common.js","sources":["webpack:///._src_server_base.js","webpack:///._src_server_request.js"],"sourcesContent":["// export const baseUrl = 'https://data.yczcjk.com';\r\nexport const baseUrl = 'http://172.18.255.8:38510';","import { baseUrl } from './base';\r\nimport Taro from '@tarojs/taro';\r\n\r\nconst request = (options) => {\r\n    return new Promise((resolve, reject) => {\r\n\r\n        const setting = {\r\n            url: baseUrl + options.url,\r\n            data: options.data,\r\n            method: options.method.toUpperCase() || 'GET',\r\n            timeout: 1000 * 30,\r\n            header: {\r\n                ...options.header\r\n                // 'content-type': 'application/x-www-form-urlencoded', // from data\r\n            },\r\n            success: (res) => {\r\n                if (res.data.code === 401) {\r\n                    Taro.reLaunch({\r\n                        url: 'pages/login/index',\r\n                    });\r\n                }\r\n                if(res.data.success == false){\r\n                    Taro.showToast({\r\n                        icon:\"none\",\r\n                        title:res.data.message\r\n                    })\r\n                }\r\n                resolve(res.data);\r\n            },\r\n        }\r\n        // const token = Taro.getStorageSync(\"token\");\r\n        // if(token){\r\n        //     setting.header.token = '' + token;\r\n        // }\r\n        if (options.header) {\r\n            setting.header = Object.assign(setting.header, options.header);\r\n        }\r\n        Taro.request(setting);\r\n    })\r\n}\r\n\r\n\r\nexport default request;\r\n\r\n"],"mappings":";;;;;;;;;;;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AAtBA;AAyBA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;;;;A","sourceRoot":""}